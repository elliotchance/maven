<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>maven: src/maven/scope/func_dissectSubparseSingle.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>src/maven/scope/func_dissectSubparseSingle.cpp</h1><a href="func__dissect_subparse_single_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  maven Programming Language</span>
<a name="l00003"></a>00003 <span class="comment"> *  Created by Elliot Chance &lt;elliot@chancemedia.com&gt;.</span>
<a name="l00004"></a>00004 <span class="comment"> */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="maven_8h.html">maven.h</a>&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="struct___string_list_8h.html">struct_StringList.h</a>&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="struct___maven_compiler_8h.html">struct_MavenCompiler.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="strings_8h.html">strings.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="constants_8h.html">constants.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="objects_8h.html">objects.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="operators_8h.html">operators.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="struct___maven_object_8h.html">struct_MavenObject.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="errors_8h.html">errors.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="keywords_8h.html">keywords.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="variables_8h.html">variables.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="namespaces_8h.html">namespaces.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="scope_8h.html">scope.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="compiler__functions_8h.html">compiler_functions.h</a>&quot;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="scope_8h.html#ac9101fcebbcb159977e5294756e49650">00022</a> <span class="keywordtype">string</span> <a class="code" href="func__dissect_subparse_single_8cpp.html#ac9101fcebbcb159977e5294756e49650">dissectSubparseSingle</a>(<a class="code" href="struct_maven_compiler.html">MavenCompiler</a>* c, <span class="keywordtype">string</span> code, <span class="keywordtype">string</span>&amp; r, <a class="code" href="class_string_list.html">StringList</a>&amp; types,
<a name="l00023"></a>00023                                                          <a class="code" href="enum___maven_mutability_8h.html#a7199ff8a2f6f3c370f7107a0b2f497fb" title="When dissecting an entity this lets the parent dissector know if the left have side...">MavenMutability</a>&amp; mut, <a class="code" href="class_maven_variable.html">MavenVariable</a>&amp; prev, <span class="keywordtype">bool</span> lastSubparse,
<a name="l00024"></a>00024                                                          <span class="keywordtype">string</span> nextOp, <a class="code" href="class_string_list.html">StringList</a> argumentTypes, <span class="keywordtype">bool</span> warn) {
<a name="l00025"></a>00025         code = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code);
<a name="l00026"></a>00026         
<a name="l00027"></a>00027         <span class="comment">// a maven.String</span>
<a name="l00028"></a>00028         <span class="keywordflow">if</span>(<a class="code" href="func__is_string_8cpp.html#a615af4a04ab9b883d24d6f9786cab088">isString</a>(code)) {
<a name="l00029"></a>00029                 types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<span class="stringliteral">&quot;maven.String&quot;</span>);
<a name="l00030"></a>00030                 r = <span class="stringliteral">&quot;(new maven::String(&quot;</span> + code + <span class="stringliteral">&quot;))&quot;</span>;
<a name="l00031"></a>00031                 <span class="keywordflow">return</span> r;
<a name="l00032"></a>00032         }
<a name="l00033"></a>00033         
<a name="l00034"></a>00034         <span class="comment">// just grouping brackets</span>
<a name="l00035"></a>00035         <span class="keywordflow">if</span>(code[0] == <span class="charliteral">&#39;(&#39;</span>) {
<a name="l00036"></a>00036                 r = <span class="stringliteral">&quot;(&quot;</span> + <a class="code" href="func__dissect_code_8cpp.html#aa86b9e663fe393a8e2c9557a1a284f2f">dissectCode</a>(c, code.substr(1, code.length() - 2), types, mut) + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00037"></a>00037                 <span class="keywordflow">return</span> r;
<a name="l00038"></a>00038         }
<a name="l00039"></a>00039         
<a name="l00040"></a>00040         <span class="comment">// chop up</span>
<a name="l00041"></a>00041         <span class="keywordtype">int</span> findArguments = code.find(<span class="charliteral">&#39;(&#39;</span>), findElement = code.find(<span class="charliteral">&#39;[&#39;</span>);
<a name="l00042"></a>00042         <span class="keywordtype">string</span> newObject = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00043"></a>00043         <span class="keywordtype">string</span> newArguments = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00044"></a>00044         
<a name="l00045"></a>00045         <span class="keywordflow">if</span>(findArguments != string::npos) {
<a name="l00046"></a>00046                 <span class="comment">// bug #60: find_last_of is not appropraite for separating dots</span>
<a name="l00047"></a>00047                 newArguments = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code.substr(findArguments + 1, code.find_last_of(<span class="charliteral">&#39;)&#39;</span>) - findArguments - 1));
<a name="l00048"></a>00048                 <a class="code" href="enum___maven_mutability_8h.html#a7199ff8a2f6f3c370f7107a0b2f497fb" title="When dissecting an entity this lets the parent dissector know if the left have side...">MavenMutability</a> argumentsMut;
<a name="l00049"></a>00049                 newArguments = <a class="code" href="func__dissect_code_8cpp.html#aa86b9e663fe393a8e2c9557a1a284f2f">dissectCode</a>(c, newArguments, argumentTypes, argumentsMut);
<a name="l00050"></a>00050                 newObject = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code.substr(0, findArguments));
<a name="l00051"></a>00051         }
<a name="l00052"></a>00052         
<a name="l00053"></a>00053         <span class="keywordtype">string</span> newElement = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00054"></a>00054         <span class="keywordflow">if</span>(findElement != string::npos)
<a name="l00055"></a>00055                 <span class="comment">// bug #60: find_last_of is not appropraite for separating dots</span>
<a name="l00056"></a>00056                 newElement = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code.substr(findElement + 1, code.find_last_of(<span class="charliteral">&#39;]&#39;</span>) - findElement - 1));
<a name="l00057"></a>00057         
<a name="l00058"></a>00058         <span class="keywordflow">if</span>(findArguments == string::npos &amp;&amp; findElement == string::npos)
<a name="l00059"></a>00059                 newObject = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code);
<a name="l00060"></a>00060         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(findArguments == string::npos &amp;&amp; findElement != string::npos)
<a name="l00061"></a>00061                 newObject = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code.substr(0, findElement));
<a name="l00062"></a>00062         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(findArguments != string::npos &amp;&amp; findElement != string::npos)
<a name="l00063"></a>00063                 newObject = <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(code.substr(0, min(findElement, findArguments)));
<a name="l00064"></a>00064         
<a name="l00065"></a>00065         <span class="comment">// a single byte or multibyte characters is converted into its raw int form</span>
<a name="l00066"></a>00066         <span class="keywordflow">if</span>(code[0] == <span class="charliteral">&#39;\&#39;&#39;</span>) {
<a name="l00067"></a>00067                 <span class="keywordflow">if</span>(code.length() &lt;= 4) {
<a name="l00068"></a>00068                         <span class="comment">// if the char constant is upto 2 bytes it&#39;s considered a normal char</span>
<a name="l00069"></a>00069                         types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<span class="stringliteral">&quot;char&quot;</span>);
<a name="l00070"></a>00070                         r = <span class="stringliteral">&quot;(char)&quot;</span> + <a class="code" href="func__int_to_string_8cpp.html#a90c344085a61a94498c17f2cb3953a85">intToString</a>(<a class="code" href="func__char_to_int_8cpp.html#ade4a4c88cec1215c7cfd014a82d2f14b">charToInt</a>(code.substr(1, code.length() - 2)));
<a name="l00071"></a>00071                         <span class="keywordflow">return</span> r;
<a name="l00072"></a>00072                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(code.length() &lt;= 6) {
<a name="l00073"></a>00073                         <span class="comment">// if the char constant is upto 4 bytes it&#39;s considered an integer</span>
<a name="l00074"></a>00074                         types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00075"></a>00075                         r = <span class="stringliteral">&quot;(int)&quot;</span> + <a class="code" href="func__int_to_string_8cpp.html#a90c344085a61a94498c17f2cb3953a85">intToString</a>(<a class="code" href="func__char_to_int_8cpp.html#ade4a4c88cec1215c7cfd014a82d2f14b">charToInt</a>(code.substr(1, code.length() - 2)));
<a name="l00076"></a>00076                         <span class="keywordflow">return</span> r;
<a name="l00077"></a>00077                 } <span class="keywordflow">else</span> {
<a name="l00078"></a>00078                         <span class="comment">// any bigger becomes a problem, tell the user we are only going to be</span>
<a name="l00079"></a>00079                         <span class="comment">// using the first 4 chars</span>
<a name="l00080"></a>00080                         types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00081"></a>00081                         <span class="keywordflow">if</span>(warn)
<a name="l00082"></a>00082                                 <a class="code" href="func__push_warning_8cpp.html#a507cb202575a2f3308b026434fe8e81c">pushWarning</a>(c, <span class="stringliteral">&quot;Only using first 4 bytes of character constant&quot;</span>);
<a name="l00083"></a>00083                         r = <span class="stringliteral">&quot;(int)&quot;</span> + <a class="code" href="func__int_to_string_8cpp.html#a90c344085a61a94498c17f2cb3953a85">intToString</a>(<a class="code" href="func__char_to_int_8cpp.html#ade4a4c88cec1215c7cfd014a82d2f14b">charToInt</a>(code.substr(1, 4)));
<a name="l00084"></a>00084                         <span class="keywordflow">return</span> r;
<a name="l00085"></a>00085                 }
<a name="l00086"></a>00086         }
<a name="l00087"></a>00087         
<a name="l00088"></a>00088         <span class="comment">// setup firstWord variable</span>
<a name="l00089"></a>00089         <span class="keywordtype">string</span> firstWord = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00090"></a>00090         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; code.length(); ++i) {
<a name="l00091"></a>00091                 <span class="comment">// bug #57: make a isWhitespace() function?</span>
<a name="l00092"></a>00092                 <span class="keywordflow">if</span>(code[i] == <span class="charliteral">&#39; &#39;</span> || code[i] == <span class="charliteral">&#39;\t&#39;</span> || code[i] == <span class="charliteral">&#39;\n&#39;</span>)
<a name="l00093"></a>00093                         <span class="keywordflow">break</span>;
<a name="l00094"></a>00094                 <span class="keywordflow">else</span> firstWord += code[i];
<a name="l00095"></a>00095         }
<a name="l00096"></a>00096         
<a name="l00097"></a>00097         <span class="comment">// create an object</span>
<a name="l00098"></a>00098         <span class="keywordflow">if</span>(firstWord == <span class="stringliteral">&quot;new&quot;</span>) {
<a name="l00099"></a>00099                 mut = <a class="code" href="enum___maven_mutability_8h.html#a7199ff8a2f6f3c370f7107a0b2f497fbac776bb6e098a2b7b56f7119c8e554dbc">MU_OK</a>;
<a name="l00100"></a>00100                 r = <span class="stringliteral">&quot;0&quot;</span>;
<a name="l00101"></a>00101                 <span class="keywordtype">string</span> newType = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00102"></a>00102                 r = <a class="code" href="func__keyword_new_8cpp.html#af052c1721b18f905e379f5ffead0e52c">keywordNew</a>(c, <a class="code" href="func__trim_8cpp.html#ad1beb636aac8dfe519e6b2ef6bc262d0">trim</a>(newObject.substr(3)), newElement, newArguments, newType);
<a name="l00103"></a>00103                 types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(newType);
<a name="l00104"></a>00104                 <span class="keywordflow">return</span> r;
<a name="l00105"></a>00105         }
<a name="l00106"></a>00106         
<a name="l00107"></a>00107         <a class="code" href="class_maven_variable.html">MavenVariable</a> resolve;
<a name="l00108"></a>00108         <span class="keywordtype">bool</span> isLocal;
<a name="l00109"></a>00109         <span class="keywordtype">int</span> namespaceID, objectID;
<a name="l00110"></a>00110         <span class="keywordflow">if</span>(prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a> == <span class="stringliteral">&quot;&quot;</span>) {
<a name="l00111"></a>00111                 
<a name="l00112"></a>00112                 <span class="keywordflow">if</span>(findArguments == string::npos) {
<a name="l00113"></a>00113                         r += <a class="code" href="func__resolve_variable_8cpp.html#a66428a5429be73b8ca1947a40b432680">resolveVariable</a>(c, newObject, resolve, namespaceID, objectID, isLocal, <span class="keyword">false</span>);
<a name="l00114"></a>00114                         prev = resolve;
<a name="l00115"></a>00115                         <span class="keywordtype">string</span> objectPath = <a class="code" href="func__c_type_8cpp.html#a3ba63fcaac44c249183291a4e7da5276">cType</a>(<a class="code" href="func__find_object_path_8cpp.html#a4136ca201e8b221a578244182c5501eb">findObjectPath</a>(c, <a class="code" href="func__strip_raw_type_8cpp.html#ad0565f5437c5d44c41e4f1ba78296874">stripRawType</a>(prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>), <span class="keyword">true</span>));
<a name="l00116"></a>00116                         <span class="keywordflow">if</span>(!<a class="code" href="func__is_data_type_8cpp.html#a65799137fafd7bcd76d058b13c79e6af">isDataType</a>(objectPath) &amp;&amp; resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.length() &gt; 0 &amp;&amp; resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>[0] != <span class="charliteral">&#39;&lt;&#39;</span> &amp;&amp; nextOp != <span class="stringliteral">&quot;=&quot;</span>)
<a name="l00117"></a>00117                                 r = <span class="stringliteral">&quot;(&quot;</span> + objectPath + <span class="stringliteral">&quot;)&quot;</span> + r;
<a name="l00118"></a>00118                         <span class="keywordflow">if</span>(newElement != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00119"></a>00119                                 r += <span class="stringliteral">&quot;-&gt;a[&quot;</span> + newElement + <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00120"></a>00120                         <span class="keywordflow">if</span>(resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.length() &gt; 0 &amp;&amp; resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>[0] != <span class="charliteral">&#39;&lt;&#39;</span>)
<a name="l00121"></a>00121                                 r = <span class="stringliteral">&quot;(&quot;</span> + r + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00122"></a>00122                 } <span class="keywordflow">else</span> {
<a name="l00123"></a>00123                         
<a name="l00124"></a>00124                         <span class="comment">// perhaps a compiler function</span>
<a name="l00125"></a>00125                         <span class="comment">// bug #59: Incomplete, this code needs to be enabled again.</span>
<a name="l00126"></a>00126                         <span class="keywordflow">if</span>(newObject[0] == <span class="charliteral">&#39;@&#39;</span>) {
<a name="l00127"></a>00127                                 <span class="comment">/*if(newObject == &quot;@library&quot;) {</span>
<a name="l00128"></a>00128 <span class="comment">                                 // bug #62: this needs to be smarter</span>
<a name="l00129"></a>00129 <span class="comment">                                 args = trim(args);</span>
<a name="l00130"></a>00130 <span class="comment">                                 c-&gt;extraLibraries.push(combinePaths(c-&gt;binDirectory, c-&gt;iniFile.getKey(&quot;directories.lib&quot;)) +</span>
<a name="l00131"></a>00131 <span class="comment">                                 args.substr(19, args.length() - 21));</span>
<a name="l00132"></a>00132 <span class="comment">                                 return &quot;&quot;;</span>
<a name="l00133"></a>00133 <span class="comment">                                 } else*/</span>
<a name="l00134"></a>00134                                 <span class="keywordflow">if</span>(newObject == <span class="stringliteral">&quot;@selector&quot;</span>) {
<a name="l00135"></a>00135                                         <span class="keywordtype">string</span> tempType = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00136"></a>00136                                         r = <a class="code" href="func__compiler_function_selector_8cpp.html#a8a10b6481323014abe19a7998d94ef65">compilerFunctionSelector</a>(c, argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>),
<a name="l00137"></a>00137                                                                                                  newArguments.substr(1, newArguments.length() - 2), tempType);
<a name="l00138"></a>00138                                         types.<a class="code" href="class_string_list.html#a8ea87c0fbc89f81344b390c8c6febbe1">push</a>(tempType);
<a name="l00139"></a>00139                                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(newObject == <span class="stringliteral">&quot;@type&quot;</span>) {
<a name="l00140"></a>00140                                         r = <a class="code" href="func__compiler_function_type_8cpp.html#a39325ba78b5982f9607187302e83db6d">compilerFunctionType</a>(c, argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>));
<a name="l00141"></a>00141                                 } <span class="keywordflow">else</span> {
<a name="l00142"></a>00142                                         r = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00143"></a>00143                                         <a class="code" href="func__push_error_8cpp.html#ac36654df07a7d1bdb2bcd8fc9a264d76">pushError</a>(c, <span class="stringliteral">&quot;Unknown compiler function %s&quot;</span>, newObject);
<a name="l00144"></a>00144                                 }
<a name="l00145"></a>00145                                 <span class="keywordflow">return</span> r;
<a name="l00146"></a>00146                         }
<a name="l00147"></a>00147                         
<a name="l00148"></a>00148                         <span class="keywordtype">int</span> nID = <a class="code" href="func__find_namespace_i_d_8cpp.html#a2efc2517229212f9b73f16dcdaa5065a">findNamespaceID</a>(c, c-&gt;<a class="code" href="struct_maven_compiler.html#a6c2ec11dccd29c9880c590ddfdf6bcd2" title="Current active namespace.">currentNamespace</a>);
<a name="l00149"></a>00149                         <span class="keywordtype">int</span> oID = <a class="code" href="func__find_object_i_d_8cpp.html#a3ddb3f7ea16752af1b24fb58efd2e888">findObjectID</a>(c, nID, <span class="stringliteral">&quot;nil&quot;</span>);
<a name="l00150"></a>00150                         <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
<a name="l00151"></a>00151                         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(nID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(oID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#ac1f969077a8c48b5bfb20ce83a26c31f">length</a>(); ++i) {
<a name="l00152"></a>00152                                 <span class="comment">// bug #61: check signature (pending)</span>
<a name="l00153"></a>00153                                 <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(nID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(oID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a18e9e3ecf89e263ac87dcfd16662cae7">name</a> == newObject &amp;&amp;
<a name="l00154"></a>00154                                    <a class="code" href="func__can_cast_between_8cpp.html#a398b5a51c61496014dbf67e1d208fef2">canCastBetween</a>(c, argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>),
<a name="l00155"></a>00155                                                                   c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(nID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(oID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#aaa349e8f675f529d5b7530add8968f34">getSignature</a>(),
<a name="l00156"></a>00156                                                                   <span class="keyword">false</span>, <span class="keyword">true</span>)) {
<a name="l00157"></a>00157                                         r += <span class="stringliteral">&quot;(&quot;</span> + c-&gt;<a class="code" href="struct_maven_compiler.html#a6c2ec11dccd29c9880c590ddfdf6bcd2" title="Current active namespace.">currentNamespace</a> + <span class="stringliteral">&quot;::nil::&quot;</span> + newObject + <span class="stringliteral">&quot;(&quot;</span> + newArguments + <span class="stringliteral">&quot;))&quot;</span>;
<a name="l00158"></a>00158                                         prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a> = c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(nID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(oID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a0e323b9cd148023c71df3f745640c4d4">returnType</a>;
<a name="l00159"></a>00159                                         prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a> = <span class="stringliteral">&quot;&lt;RETURNED&gt;&quot;</span>;
<a name="l00160"></a>00160                                         resolve = prev;
<a name="l00161"></a>00161                                         found = <span class="keyword">true</span>;
<a name="l00162"></a>00162                                         <span class="keywordflow">break</span>;
<a name="l00163"></a>00163                                 }
<a name="l00164"></a>00164                         }
<a name="l00165"></a>00165                         
<a name="l00166"></a>00166                         <span class="keywordflow">if</span>(!found) {
<a name="l00167"></a>00167                                 r = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00168"></a>00168                                 <a class="code" href="func__push_error_8cpp.html#ac36654df07a7d1bdb2bcd8fc9a264d76">pushError</a>(c, <span class="stringliteral">&quot;Can not find function %s(%s)&quot;</span>, newObject, argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>));
<a name="l00169"></a>00169                                 <span class="keywordflow">return</span> r;
<a name="l00170"></a>00170                         }
<a name="l00171"></a>00171                 }
<a name="l00172"></a>00172         } <span class="keywordflow">else</span> {
<a name="l00173"></a>00173                 <span class="keywordflow">if</span>(findArguments == string::npos) {
<a name="l00174"></a>00174                         
<a name="l00175"></a>00175                         <span class="keywordflow">if</span>(prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.substr(0, 7) == <span class="stringliteral">&quot;&lt;Class:&quot;</span>)
<a name="l00176"></a>00176                                 prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a> = prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.substr(8, prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.length() - 9);
<a name="l00177"></a>00177                         
<a name="l00178"></a>00178                         <a class="code" href="func__find_class_8cpp.html#af1f22083ba3ef35cfebc5597624677ef">findClass</a>(c, prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>, namespaceID, objectID);
<a name="l00179"></a>00179                         <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
<a name="l00180"></a>00180                         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a518b0f24aa4a4fb96db0da19778ecc5d">variables</a>-&gt;<a class="code" href="struct_maven_variables.html#abdf95247211af25d7865e007a4067530">length</a>(); ++i) {
<a name="l00181"></a>00181                                 <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a518b0f24aa4a4fb96db0da19778ecc5d">variables</a>-&gt;<a class="code" href="struct_maven_variables.html#aeb3c993776b32e82f599ea8e69da39d7">at</a>(i).<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a> == newObject) {
<a name="l00182"></a>00182                                         resolve = prev = c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a518b0f24aa4a4fb96db0da19778ecc5d">variables</a>-&gt;<a class="code" href="struct_maven_variables.html#aeb3c993776b32e82f599ea8e69da39d7">at</a>(i);
<a name="l00183"></a>00183                                         found = <span class="keyword">true</span>;
<a name="l00184"></a>00184                                         
<a name="l00185"></a>00185                                         <span class="keywordtype">string</span> joiner = <span class="stringliteral">&quot;-&gt;&quot;</span>;
<a name="l00186"></a>00186                                         <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a518b0f24aa4a4fb96db0da19778ecc5d">variables</a>-&gt;<a class="code" href="struct_maven_variables.html#aeb3c993776b32e82f599ea8e69da39d7">at</a>(i).<a class="code" href="class_maven_variable.html#aaaac6776d53c130e77fb56912cd86539">isStatic</a>)
<a name="l00187"></a>00187                                                 joiner = <span class="stringliteral">&quot;$static::&quot;</span>;
<a name="l00188"></a>00188                                         <span class="keywordflow">if</span>(!<a class="code" href="func__is_data_type_8cpp.html#a65799137fafd7bcd76d058b13c79e6af">isDataType</a>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a518b0f24aa4a4fb96db0da19778ecc5d">variables</a>-&gt;<a class="code" href="struct_maven_variables.html#aeb3c993776b32e82f599ea8e69da39d7">at</a>(i).<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>) &amp;&amp;
<a name="l00189"></a>00189                                            !lastSubparse)
<a name="l00190"></a>00190                                                 <a class="code" href="func__push_object_safety_8cpp.html#a3b49435c96cf82efe1eea65c83e92a00">pushObjectSafety</a>(c, r + joiner + prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>);
<a name="l00191"></a>00191                                         <span class="keywordflow">if</span>(newElement != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00192"></a>00192                                                 <a class="code" href="func__push_array_safety_8cpp.html#a6d4c2715d5fbc0f0286156436374f0c8">pushArraySafety</a>(c, r + joiner + prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>, newElement);
<a name="l00193"></a>00193                                         <span class="comment">//r = &quot;(&quot; + cType(findObjectPath(c, stripRawType(prev.type), true)) + &quot;)&quot;;</span>
<a name="l00194"></a>00194                                         r += joiner + prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>;
<a name="l00195"></a>00195                                         <span class="keywordflow">if</span>(newElement != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00196"></a>00196                                                 r += <span class="stringliteral">&quot;-&gt;a[&quot;</span> + newElement + <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00197"></a>00197                                         r = <span class="stringliteral">&quot;(&quot;</span> + r + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00198"></a>00198                                         <span class="keywordflow">break</span>;
<a name="l00199"></a>00199                                 }
<a name="l00200"></a>00200                         }
<a name="l00201"></a>00201                         
<a name="l00202"></a>00202                         <span class="comment">// bug #58: need to show candidates, see below</span>
<a name="l00203"></a>00203                         <span class="keywordflow">if</span>(!found) {
<a name="l00204"></a>00204                                 r = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00205"></a>00205                                 <a class="code" href="func__push_error_8cpp.html#ac36654df07a7d1bdb2bcd8fc9a264d76">pushError</a>(c, <span class="stringliteral">&quot;%s does not have the member variable %s&quot;</span>, prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>, newObject);
<a name="l00206"></a>00206                                 <span class="keywordflow">return</span> r;
<a name="l00207"></a>00207                         }
<a name="l00208"></a>00208                         
<a name="l00209"></a>00209                 } <span class="keywordflow">else</span> {
<a name="l00210"></a>00210                         
<a name="l00211"></a>00211                         <span class="keywordflow">if</span>(prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.substr(0, 7) == <span class="stringliteral">&quot;&lt;Class:&quot;</span>)
<a name="l00212"></a>00212                                 prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a> = prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.substr(8, prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>.length() - 9);
<a name="l00213"></a>00213                         
<a name="l00214"></a>00214                         <a class="code" href="func__find_class_8cpp.html#af1f22083ba3ef35cfebc5597624677ef">findClass</a>(c, prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>, namespaceID, objectID);
<a name="l00215"></a>00215                         <span class="keywordtype">int</span> found = 0;
<a name="l00216"></a>00216                         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#ac1f969077a8c48b5bfb20ce83a26c31f">length</a>(); ++i) {
<a name="l00217"></a>00217                                 <span class="comment">// bug #61: check signature (pending)</span>
<a name="l00218"></a>00218                                 <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a18e9e3ecf89e263ac87dcfd16662cae7">name</a> == newObject) {
<a name="l00219"></a>00219                                         found = 1;
<a name="l00220"></a>00220                                         <span class="keywordflow">if</span>(<a class="code" href="func__can_cast_between_8cpp.html#a398b5a51c61496014dbf67e1d208fef2">canCastBetween</a>(c, argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>),
<a name="l00221"></a>00221                                                                           c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#aaa349e8f675f529d5b7530add8968f34">getSignature</a>(),
<a name="l00222"></a>00222                                                                           <span class="keyword">false</span>, <span class="keyword">true</span>)) {
<a name="l00223"></a>00223                                                 prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a> = <span class="stringliteral">&quot;&lt;RETURNED&gt;&quot;</span>;
<a name="l00224"></a>00224                                                 prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a> = c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a0e323b9cd148023c71df3f745640c4d4">returnType</a>;
<a name="l00225"></a>00225                                                 resolve = prev;
<a name="l00226"></a>00226                                                 found = 2;
<a name="l00227"></a>00227                                                 
<a name="l00228"></a>00228                                                 <span class="keywordtype">string</span> joiner = <span class="stringliteral">&quot;-&gt;&quot;</span>;
<a name="l00229"></a>00229                                                 <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a113f1ad0ce6781fa54341e952aac3476">isStatic</a>)
<a name="l00230"></a>00230                                                         joiner = <span class="stringliteral">&quot;::&quot;</span>;
<a name="l00231"></a>00231                                                 <span class="keywordtype">string</span> objectPath = <a class="code" href="func__c_type_8cpp.html#a3ba63fcaac44c249183291a4e7da5276">cType</a>(<a class="code" href="func__find_object_path_8cpp.html#a4136ca201e8b221a578244182c5501eb">findObjectPath</a>(c, <a class="code" href="func__strip_raw_type_8cpp.html#ad0565f5437c5d44c41e4f1ba78296874">stripRawType</a>(prev.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>), <span class="keyword">true</span>));
<a name="l00232"></a>00232                                                 <span class="keywordflow">if</span>(<a class="code" href="func__is_data_type_8cpp.html#a65799137fafd7bcd76d058b13c79e6af">isDataType</a>(objectPath))
<a name="l00233"></a>00233                                                         r += joiner;
<a name="l00234"></a>00234                                                 <span class="keywordflow">else</span> r = <span class="stringliteral">&quot;(&quot;</span> + objectPath + <span class="stringliteral">&quot;)&quot;</span> + r + joiner;
<a name="l00235"></a>00235                                                 
<a name="l00236"></a>00236                                                 <span class="comment">// deal with an alias</span>
<a name="l00237"></a>00237                                                 <span class="keywordflow">if</span>(c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#ad8589716fd86fea96ead5bd08acb4396">alias</a> != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00238"></a>00238                                                         r = c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#ad8589716fd86fea96ead5bd08acb4396">alias</a>;
<a name="l00239"></a>00239                                                 <span class="keywordflow">else</span> r += c-&gt;<a class="code" href="struct_maven_compiler.html#a97c4d426f3982e29b601a5b78524c63d" title="Holds all object and variable information for all namespaces.">namespaces</a>-&gt;<a class="code" href="struct_maven_namespaces.html#a3dfb720ac63d10003861702e74430cf3">at</a>(namespaceID).<a class="code" href="struct_maven_namespace.html#a14e58dcfbe622edfb1eb5826c2041eb0">objects</a>-&gt;<a class="code" href="class_maven_objects.html#ab5426193776869e6407b0deaa100cb19">at</a>(objectID)-&gt;<a class="code" href="struct_maven_object.html#a6b3e47a94464e67048669dd987de656d">functions</a>-&gt;<a class="code" href="struct_maven_functions.html#a2e22e739f4639d621784e475467befb2">at</a>(i).<a class="code" href="struct_maven_function.html#a18e9e3ecf89e263ac87dcfd16662cae7">name</a>;
<a name="l00240"></a>00240                                                 r += <span class="stringliteral">&quot;(&quot;</span> + newArguments + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00241"></a>00241                                                 <span class="keywordflow">break</span>;
<a name="l00242"></a>00242                                         }
<a name="l00243"></a>00243                                 }
<a name="l00244"></a>00244                         }
<a name="l00245"></a>00245                         <span class="keywordflow">if</span>(found == 0) {
<a name="l00246"></a>00246                                 r = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00247"></a>00247                                 <a class="code" href="func__push_error_8cpp.html#ac36654df07a7d1bdb2bcd8fc9a264d76">pushError</a>(c, <span class="stringliteral">&quot;%s does not have the member method %s&quot;</span>, prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>, newObject + <span class="stringliteral">&quot;(&quot;</span> +
<a name="l00248"></a>00248                                                   argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>) + <span class="stringliteral">&quot;)&quot;</span>);
<a name="l00249"></a>00249                                 <span class="keywordflow">return</span> r;
<a name="l00250"></a>00250                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(found == 1) {
<a name="l00251"></a>00251                                 r = <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>;
<a name="l00252"></a>00252                                 <span class="comment">// bug #58: need to show candidates</span>
<a name="l00253"></a>00253                                 <span class="comment">//if(prev.name[0] == &#39;&lt;&#39;)</span>
<a name="l00254"></a>00254                                 <a class="code" href="func__push_error_8cpp.html#ac36654df07a7d1bdb2bcd8fc9a264d76">pushError</a>(c, <span class="stringliteral">&quot;%s does not have the member method to match %s&quot;</span>, prev.<a class="code" href="class_maven_variable.html#a2116def1051c3836e3b513afdf53af29">name</a>, newObject +
<a name="l00255"></a>00255                                                   <span class="stringliteral">&quot;(&quot;</span> + argumentTypes.<a class="code" href="class_string_list.html#aca771dcbc75b8da934c5a55f9158e306">join</a>(<span class="stringliteral">&quot;,&quot;</span>) + <span class="stringliteral">&quot;)&quot;</span>);
<a name="l00256"></a>00256                                 <span class="keywordflow">return</span> r;
<a name="l00257"></a>00257                         }
<a name="l00258"></a>00258                 }
<a name="l00259"></a>00259         }
<a name="l00260"></a>00260         
<a name="l00261"></a>00261         <span class="comment">// make sure it was resolved</span>
<a name="l00262"></a>00262         <span class="keywordflow">if</span>(r == <a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>) {
<a name="l00263"></a>00263                 types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<a class="code" href="maven_8h.html#a8b26e8eee51205ffedd3becae8e78a32">MAVEN_INVALID</a>);
<a name="l00264"></a>00264                 mut = <a class="code" href="enum___maven_mutability_8h.html#a7199ff8a2f6f3c370f7107a0b2f497fba1863018e3d03ffedfc20d97db5bdba04">MU_IMPOSSIBLE</a>;
<a name="l00265"></a>00265                 <span class="keywordflow">return</span> r;
<a name="l00266"></a>00266         }
<a name="l00267"></a>00267         
<a name="l00268"></a>00268         <span class="keywordflow">if</span>(newElement != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00269"></a>00269                 types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(<a class="code" href="func__strip_raw_type_8cpp.html#ad0565f5437c5d44c41e4f1ba78296874">stripRawType</a>(resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>));
<a name="l00270"></a>00270         <span class="keywordflow">else</span> types.<a class="code" href="class_string_list.html#a51e8466aab4e414503545e2deabd6a9d">setTypes</a>(resolve.<a class="code" href="class_maven_variable.html#a38084bd6afe379ff98a06c8b2886b197">type</a>);
<a name="l00271"></a>00271         mut = resolve.<a class="code" href="class_maven_variable.html#a71cc183e0434825822eadd9d103c2f4b">mutability</a>;
<a name="l00272"></a>00272         <span class="keywordflow">if</span>(!<a class="code" href="func__is_assign_operator_8cpp.html#a2f726aa661f8b2de5b1777188be1dab2">isAssignOperator</a>(nextOp)) {
<a name="l00273"></a>00273                 <span class="keywordtype">string</span> temp = r, temp2 = <a class="code" href="func__c_type_8cpp.html#a3ba63fcaac44c249183291a4e7da5276">cType</a>(<a class="code" href="func__find_object_path_8cpp.html#a4136ca201e8b221a578244182c5501eb">findObjectPath</a>(c, types[0], <span class="keyword">true</span>));
<a name="l00274"></a>00274                 <span class="keywordflow">if</span>(temp2.substr(0, 1) != <span class="stringliteral">&quot;&lt;&quot;</span>)
<a name="l00275"></a>00275                    r = <span class="stringliteral">&quot;((&quot;</span> + temp2 + <span class="stringliteral">&quot;)&quot;</span> + r + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00276"></a>00276         }
<a name="l00277"></a>00277         <span class="keywordflow">return</span> r;
<a name="l00278"></a>00278 }
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
